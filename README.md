简介： 
本开源项目基于已有的嵌入式操作系统（运行于 STC-B 学习板）进行二次开发与深度优化，完成了从底层系统内核改进到上层复杂交互应用（游戏）的完整实现，具体贡献如下：

1. 操作系统内核优化

修复了随机替换算法 BUG：原系统在栈替换逻辑中存在逻辑错误，导致进程频繁被无效调度。本项目修复了该问题，确保只有在无可替换栈时才触发替换，从根本上提升了系统稳定性。

实现 CLOCK（二次机会）栈替换算法：在资源受限的 8051 平台上成功移植了轻量化的 CLOCK 算法，替代原有随机策略，有效减少了内外 RAM 间的频繁切换，提高了实时性能和内存利用率。

完善了系统调度机制：通过引入使用位（Usage Bit）记录进程活跃度，实现了更合理的任务切换策略，为后续多任务应用提供了高效基础。

2. 系统通信机制设计

设计并实现自定义 RS485 通信协议栈：基于嵌入式系统的半双工通信特性，自主定义了 9 字节封包结构（含校验位），并实现了主从式通信架构。

支持广播与定向通信：通过区分目标 ID，实现主机对从机广播和单点控制，大幅提升了系统的扩展性与可控性。

错误检测机制：在底层通信中引入异或校验机制，提高了系统在噪声环境下的通信可靠性。

3. 多进程游戏框架构建

首次在该操作系统上实现进程分离的游戏系统：将“逻辑进程”和“显示进程”独立运行，解决了显示撕裂与响应延迟问题。

设计有限状态机驱动的逻辑引擎：通过状态标识与事件驱动机制，保证了在任意时刻系统均处于可控状态，实现复杂逻辑下的高可靠运行。

引入主从式架构游戏同步：主机负责逻辑与裁判，从机处理输入与显示，实现了分布式多板协作的多人游戏体验。

4. 游戏创新实现 ——《骗子酒馆》

完整移植与实现规则复杂的博弈类游戏：在资源极其有限的 8051 平台上实现了包括洗牌、发牌、质疑、开枪、裁断、终局判定等完整流程。

硬件交互体验优化：融合数码管显示、蜂鸣器提示、按键与摇杆操作，构建了沉浸式人机交互界面。

多板联机机制：最多支持 8 名玩家同时对战，实现了嵌入式设备间的实时联机游戏系统。
